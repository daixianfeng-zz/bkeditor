/*! Bkeditor - v0.9.0 - 2013-08-03
* https://github.com/daixianfeng/bkeditor
* Copyright (c) 2013 daixianfeng;*/
(function(e){var t=[{cmd:"insertcode",name:"HTML/XML",param:"html"},{cmd:"insertcode",name:"Javascript",param:"js"},{cmd:"insertcode",name:"CSS",param:"css"},{cmd:"insertcode",name:"PHP",param:"php"},{cmd:"insertcode",name:"Java",param:"java"},{cmd:"insertcode",name:"Python",param:"py"},{cmd:"insertcode",name:"Perl",param:"pl"},{cmd:"insertcode",name:"Ruby",param:"rb"},{cmd:"insertcode",name:"C#",param:"cs"},{cmd:"insertcode",name:"C++/C",param:"c"},{cmd:"insertcode",name:"VB/ASP",param:"vb"},{cmd:"insertcode",name:"Coffee",param:"coffee"},{cmd:"insertcode",name:"Shell",param:"sh"}];e.addPlugin({id:"insertcodemenu",type:"panel",fill:function(){var n=e.Menu.create(t);e.fillPanel("insertcodemenu",n)},echo:function(){}}),e.addEvent({name:"insertcode",type:["click","keyup"],fn:function(n){var i=n.event.keyCode;if(!i||!(37>i||i>40)){var r="插入代码",o=e.curEditor.cursorElements.pre;if(o){var a=$(o).attr("name");$.each(t,function(e,t){t.param.toLowerCase()===a&&(r=t.name)})}e.curEditor.$toolbar.find("#icon-insertcodemenu").find(".bke-InsertCode a").html(r)}}}),e.addPlugin({id:"insertcode",click:function(t){var n='<pre name="'+t+'" id="prettyprint" class="prettyprint lang-'+t+'">&#8203;<br></pre>',i=e.curEditor;i.insert(n),setTimeout(function(){var t=e.$("#prettyprint").removeAttr("id");i.setCursor(t[0],!0)},0)}})})(window.jQuery.jQEditor);