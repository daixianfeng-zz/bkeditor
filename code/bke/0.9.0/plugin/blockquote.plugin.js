/*! Bkeditor - v0.9.0 - 2013-08-03
* https://github.com/daixianfeng/bkeditor
* Copyright (c) 2013 daixianfeng;*/
(function(e,t){e.addPlugin({id:"blockquote",title:"引用",click:function(){var n=e.curEditor,r=e.utils.getSelectionRange(n.win,"node"),i=null,o=null,a=null;i=t(r.startContainer).parents().get(),i.pop(),i.pop(),o=i.pop(),i=t(r.endContainer).parents().get(),i.pop(),i.pop(),a=i.pop();var s=t(o);if(o===a)s.is("blockquote")?s.after(s.children()).remove():s.wrap("<blockquote></blockquote>");else{var l=n.dom.createElement("blockquote");s.before(l),s.nextAll().each(function(){return t(l).append(this),a===this?!1:void 0}),t(l).prepend(o)}e.utils.setSelectionRange(n.win,r,"node")}})})(jQuery.jQEditor,jQuery);